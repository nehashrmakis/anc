import{q as m,r as l,m as n,j as e,$ as p,Y as a}from"./app-DKcAQ6_-.js";import g from"./Header-BRF3mAJO.js";import x from"./Sidebar-BKfS1058.js";import{S as h}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./Dropdown-CQjxdwPE.js";import"./transition-D9AalLht.js";function v(){const{categories:r,filters:i}=m().props,[o,d]=l.useState((i==null?void 0:i.search)||""),c=s=>{h.fire({title:"Are you sure?",text:"This category will be permanently deleted.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&n.delete(route("categories.destroy",s),{preserveScroll:!0})})};return l.useEffect(()=>{typeof window<"u"&&window.bootstrap&&Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(t=>{new window.bootstrap.Tooltip(t)})},[r]),l.useEffect(()=>{const s=setTimeout(()=>{const t={};o.trim()!==""&&(t.search=o.trim()),n.get(route("categories.index"),t,{preserveState:!0,replace:!0})},400);return()=>clearTimeout(s)},[o]),e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Category Listing"}),e.jsx(g,{}),e.jsx(x,{}),e.jsxs("main",{className:"app-content p-lg-5 inventory-category",children:[e.jsxs("div",{className:"mt-2 prod-category mt-md-3 mt-lg-5 d-block d-md-flex d-lg-flex align-items-center gap-2 gap-lg-5 flex-md-row flex-lg-row",children:[e.jsx("div",{className:"prod-category-btn mt-3 mt-lg-0 mt-md-0 mb-md-0 mb-4 mb-lg-0",children:e.jsx(a,{href:route("categories.create"),className:"common_btn",children:"Add New Category"})}),e.jsx("div",{className:"header-search suplier-location mt-3 mt-lg-0 mt-md-0",children:e.jsxs("div",{className:"input-group rounded-3",children:[e.jsx("input",{type:"text",className:"form-control border-0 ps-3",placeholder:"Search Category",value:o,onChange:s=>d(s.target.value),"aria-label":"Search Category"}),e.jsx("span",{className:"input-group-text border-0 rounded-3 pe-3",id:"search-bar",children:e.jsx("i",{className:"fa fa-location-arrow"})})]})})]}),e.jsxs("div",{className:"prod-category-list-outer mt-3 mt-md-2 mt-lg-3 mb-2",children:[e.jsxs("div",{className:"prod-category-list d-flex flex-wrap gap-3 gap-lg-4 gap-lg-5 pb-3 pt-3",children:[r.data.length===0&&e.jsx("p",{children:"No categories found."}),r.data.map(s=>e.jsxs("div",{className:"prod-category-box text-center",children:[e.jsxs("div",{className:"rounded-4 p-1 prod-category-img",children:[e.jsx("img",{src:s.image?`/uploads/${s.image}`:"assets/img/icons/upload-file.png",alt:s.name,className:"img-fluid rounded-4"}),e.jsxs("div",{className:"overlay-btn rounded-4",children:[e.jsxs(a,{href:route("categories.edit",s.id),children:[e.jsx("i",{className:"fa-solid fa-pen"}),e.jsxs("div",{className:"prod-tooltip",children:["Edit ",e.jsx("span",{className:"shape"})]})]}),e.jsxs("button",{className:"border-0",onClick:()=>c(s.id),children:[e.jsx("i",{className:"fa-solid fa-trash"}),e.jsxs("div",{className:"prod-tooltip",children:["Delete ",e.jsx("span",{className:"shape"})]})]}),e.jsxs(a,{href:route("categories.inventoryProducts",s.id),children:[e.jsx("i",{className:"fa-solid fa-info",title:"Inventory"}),e.jsxs("span",{className:"notify-icon",children:[" ",s.final_inventory_count||0]}),e.jsxs("div",{className:"prod-tooltip",children:["Inventory Listing",e.jsx("span",{className:"shape"})]})]})]})]}),e.jsx("h4",{className:"mt-3",children:e.jsxs(a,{href:`http://103.164.67.227:8000/products?cat=${s.id}`,children:[s.name," (",s.products_count||0,")"]})})]},s.id))]}),r.links.length>3&&e.jsx("div",{className:"pagination mt-4 d-flex gap-2 flex-wrap",children:r.links.map((s,t)=>e.jsx(a,{href:s.url||"#",className:`px-3 py-1 border rounded ${s.active?"bg-primary text-white":"bg-light text-dark"} ${s.url?"":"pointer-events-none text-muted"}`,dangerouslySetInnerHTML:{__html:s.label}},t))})]})]})]})}export{v as default};
