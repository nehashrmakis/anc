import{q as u,r as d,m as x,j as e,$ as j,Y as o}from"./app-hkHtsVWY.js";import f from"./Header-B2u-Ke0U.js";import y from"./Sidebar-2qtfisrx.js";import{S as N}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./Dropdown-DJHpTJ5L.js";import"./transition-BTqLGtpx.js";function $(){var m;const{inventory:a,filters:n,categories:c}=u().props,g=new URLSearchParams(window.location.search).get("cat")||"",[s,p]=d.useState((n==null?void 0:n.search)||""),[l,b]=d.useState(g),i=((m=c==null?void 0:c.find(r=>String(r.id)===l))==null?void 0:m.name)||"",h=r=>{N.fire({title:"Are you sure?",text:"This product will be permanently deleted.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&x.delete(route("inventory.destroy",r),{preserveScroll:!0})})};return d.useEffect(()=>{const r=setTimeout(()=>{const t={};s.trim()!==""&&(t.search=s.trim()),l.trim()!==""&&(t.cat=l.trim()),x.get(route("inventory.index"),t,{preserveState:!0,replace:!0})},400);return()=>clearTimeout(r)},[s,l]),e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Product Listing"}),e.jsx(f,{}),e.jsx(y,{}),e.jsxs("main",{className:"app-content p-lg-5 inventory-category",children:[e.jsxs("div",{className:"mt-2 prod-category mt-md-3 mt-lg-5 d-block d-md-flex d-lg-flex align-items-center gap-2 gap-lg-5 flex-md-row flex-lg-row",children:[e.jsx("div",{className:"prod-category-btn mt-3 mt-lg-0 mt-md-0 mb-md-0 mb-4 mb-lg-0",children:e.jsx(o,{href:route("inventory.create"),className:"common_btn",children:"Add New Product"})}),e.jsx("div",{className:"header-search suplier-location mt-3 mt-lg-0 mt-md-0",children:e.jsxs("div",{className:"input-group rounded-3",children:[e.jsx("input",{type:"text",className:"form-control border-0 ps-3",placeholder:"Search Product",value:s,onChange:r=>p(r.target.value),"aria-label":"Search Product"}),e.jsx("span",{className:"input-group-text border-0 rounded-3 pe-3",id:"search-bar",children:e.jsx("i",{className:"fa fa-location-arrow"})})]})})]}),i&&e.jsx("div",{className:"mt-4 mb-3 catergory-heading",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 col-lg-7",children:e.jsxs("h2",{children:["Category: ",e.jsx("strong",{children:i})]})}),e.jsx("div",{className:"col-md-6 col-lg-5",children:e.jsx("div",{className:"category-btn text-end",children:e.jsx(o,{href:route("categories.index"),className:"btn btn-secondary mt-2 ms-3",children:"← Back to Categories"})})})]})}),e.jsxs("div",{className:"prod-category-list-outer mt-3 mt-md-2 mt-lg-3 mb-2",children:[e.jsxs("div",{className:"prod-category-list d-flex flex-wrap gap-3 gap-lg-4 gap-lg-5 pb-3 pt-3",children:[a.data.length===0&&e.jsx("p",{children:"No Product found."}),a.data.map(r=>{var t;return e.jsxs("div",{className:"prod-category-box text-center",children:[e.jsxs("div",{className:"rounded-4 p-1 prod-category-img",children:[e.jsx("img",{src:r.image?`/uploads/${r.image}`:"assets/img/icons/upload-file.png",alt:r.name,className:"img-fluid rounded-4"}),e.jsxs("div",{className:"overlay-btn rounded-4",children:[e.jsx(o,{href:route("inventory.edit",r.id),children:e.jsx("i",{className:"fa-solid fa-pen"})}),e.jsx("button",{className:"border-0",onClick:()=>h(r.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsxs("h4",{className:"mt-3",children:[r.name,e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:((t=r.category)==null?void 0:t.name)||"No Category"})]})]},r.id)})]}),a.links.length>3&&e.jsx("div",{className:"pagination mt-4 d-flex gap-2 flex-wrap",children:a.links.map((r,t)=>e.jsx(o,{href:r.url||"#",className:`px-3 py-1 border rounded ${r.active?"bg-primary text-white":"bg-light text-dark"} ${r.url?"":"pointer-events-none text-muted"}`,dangerouslySetInnerHTML:{__html:r.label}},t))})]})]})]})}export{$ as default};
