import{v as g,r as h,j as e,$ as f}from"./app-hkHtsVWY.js";import _ from"./Header-B2u-Ke0U.js";import y from"./Sidebar-2qtfisrx.js";import"./Dropdown-DJHpTJ5L.js";import"./transition-BTqLGtpx.js";function P({inventory:t}){const{data:a,setData:o}=g({containers:[{id:"",products:[{inventory_id:"",marking:"",size:"",weight:"",total_bundles:"",quantity_per_bundle:"",total_product:""}]}]}),[x,u]=h.useState(1),[d,p]=h.useState(0),j=c=>{const l=parseInt(c.target.value,10)||0;u(l);const n=[...a.containers];for(;n.length<l;)n.push({id:"",products:[{inventory_id:"",marking:"",product_id:"",size:"",weight:"",total_bundles:"",quantity_per_bundle:"",total_product:""}]});o("containers",n.slice(0,l)),d>=l&&p(0)},r=(c,l,n,i)=>{const s=[...a.containers];if(s[c].products[l][n]=i,n==="total_bundles"||n==="quantity_per_bundle"){const m=parseFloat(s[c].products[l].total_bundles)||0,N=parseFloat(s[c].products[l].quantity_per_bundle)||0;s[c].products[l].total_product=m*N}o("containers",s)},v=c=>{const l=[...a.containers];l[c].products.push({inventory_id:"",marking:"",product_id:"",size:"",weight:"",total_bundles:"",quantity_per_bundle:"",total_product:""}),o("containers",l)},b=c=>{c.preventDefault();const l=new FormData;l.append("invoice_no",a.invoice_no),l.append("po_number",a.po_number),l.append("supplier",a.supplier),l.append("arrival_depo",a.arrival_depo),l.append("on_transit",a.on_transit),l.append("landing_date",a.landing_date),l.append("containers",a.containers),l.append("containers_id",a.containers_id),l.append("containers_product_id",a.containers_product_id),l.append("containers_marking",a.containers_product_id),a.image&&l.append("image",a.image),t?(l.append("_method","PUT"),router.post(route("inventory.update",t.id),l,{forceFormData:!0})):router.post(route("inventory.store"),l,{forceFormData:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Add Invoice"}),e.jsx(_,{}),e.jsx(y,{}),e.jsx("main",{className:"app-content p-lg-5 add-invoice",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-8 col-lg-8 col-xl-7",children:e.jsxs("div",{className:"add-invoice-left",children:[e.jsxs("div",{className:"invoice-form px-4 py-4 rounded-4 mt-lg-3",children:[e.jsx("h2",{className:"common-heading pb-2",children:"Invoice"}),e.jsx("form",{className:"mt-3",onSubmit:b,children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-xl-3 mb-1",children:[e.jsx("label",{className:"form-label mb-0",children:"Invoice No."}),e.jsx("input",{type:"text",className:"form-control rounded-5",placeholder:"123465787"})]}),e.jsxs("div",{className:"col-xl-3 mb-1",children:[e.jsx("label",{className:"form-label mb-0",children:"Container"}),e.jsx("input",{type:"number",className:"form-control rounded-5",value:x,onChange:j,min:1,max:10})]}),e.jsxs("div",{className:"col-xl-3 mb-1",children:[e.jsx("label",{className:"form-label mb-0",children:"PO Number"}),e.jsx("input",{type:"text",className:"form-control rounded-5"})]}),e.jsxs("div",{className:"col-xl-3 mb-1",children:[e.jsx("label",{className:"form-label mb-0",children:"Supplier"}),e.jsx("input",{type:"text",className:"form-control rounded-5"})]})]})})]}),e.jsxs("div",{className:"invoice-product mt-3 mb-3",children:[e.jsx("ul",{className:"ms-3 nav nav-tabs gap-2 border-0",role:"tablist",children:Array.from({length:x}).map((c,l)=>e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:`nav-link py-2 ${d===l?"active":""}`,type:"button",onClick:()=>p(l),children:["Container ",l+1]})},l))}),e.jsx("div",{className:"tab-content invoice-prod-cont rounded-4 mt-3",children:a.containers.map((c,l)=>e.jsx("div",{className:`tab-pane fade ${d===l?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"invoice-product-form",children:e.jsxs("form",{className:"px-3 px-lg-4 py-4 px-md-4",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-sm-12 col-md-12 col-lg-12",children:e.jsxs("div",{className:"d-block d-md-flex d-lg-flex align-items-center gap-2",children:[e.jsx("label",{className:"form-label",children:"Container ID"}),e.jsx("div",{className:"rounded-5",children:e.jsx("input",{type:"text",className:"form-control",value:c.id,onChange:n=>{const i=[...a.containers];i[l].id=n.target.value,o("containers",i)}})})]})})}),c.products.map((n,i)=>e.jsx("div",{className:"invoice-product-append mb-4 pb-4",children:e.jsxs("div",{className:"row gy-2 gy-lg-4",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"d-block d-md-flex d-lg-flex align-items-center gap-2",children:[e.jsx("label",{className:"form-label mb-0",children:"Product Name"}),e.jsxs("select",{className:"form-select",value:n.inventory_id,onChange:s=>r(l,i,"inventory_id",s.target.value),children:[e.jsx("option",{value:"",children:"Select a Product"}),t.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"d-block d-md-flex d-lg-flex align-items-center gap-2",children:[e.jsx("label",{className:"form-label mb-0 me-3",children:"ANC Marking"}),e.jsx("div",{className:"d-flex gap-3",children:["Yes","No"].map(s=>e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:`marking-${l}-${i}`,value:s,checked:n.marking===s,onChange:m=>r(l,i,"marking",m.target.value)}),e.jsx("label",{className:"form-check-label",children:s})]},s))})]})}),e.jsx("div",{className:"col-sm-6 col-md-6 col-lg-6",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("label",{className:"form-label mb-0 text-end",children:"Size"}),e.jsx("div",{className:"rounded-5",children:e.jsx("input",{type:"number",className:"form-control color-grey",value:n.size,onChange:s=>r(l,i,"size",s.target.value)})}),e.jsx("span",{children:"(feet)"})]})}),e.jsx("div",{className:"col-sm-6 col-md-6 col-lg-6",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("label",{className:"form-label mb-0 text-end",children:"Weight"}),e.jsx("div",{className:"rounded-5",children:e.jsx("input",{type:"number",className:"form-control color-grey",value:n.weight,onChange:s=>r(l,i,"weight",s.target.value)})}),e.jsx("span",{children:"(kg)"})]})}),e.jsx("div",{className:"col-sm-6 col-md-6 col-lg-6",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs("label",{className:"form-label mb-0 text-end",children:["Total Bundles",e.jsx("br",{}),e.jsx("sub",{children:"(A)"})]}),e.jsx("div",{className:"rounded-5",children:e.jsx("input",{type:"number",className:"form-control",value:n.total_bundles,onChange:s=>r(l,i,"total_bundles",s.target.value)})})]})}),e.jsx("div",{className:"col-sm-6 col-md-6 col-lg-6",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs("label",{className:"form-label mb-0 float-lg-end text-end",children:["Qt. Per Bundles",e.jsx("br",{}),e.jsx("sub",{children:"(B)"})]}),e.jsx("input",{type:"number",className:"form-control",value:n.quantity_per_bundle,onChange:s=>r(l,i,"quantity_per_bundle",s.target.value)})]})}),e.jsx("div",{className:"col-md-7 col-lg-7",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs("label",{className:"form-label mb-0 float-lg-end text-end",children:["Total Product",e.jsx("br",{}),e.jsx("sub",{children:"(A X B)"})]}),e.jsx("div",{className:"input-group rounded-5",children:e.jsx("input",{type:"number",className:"form-control color-grey",readOnly:!0,value:n.total_product})})]})})]})},i)),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",className:"common_btn border-0",onClick:()=>v(l),children:"Add More Product"})})]})})},l))})]}),e.jsxs("div",{className:"prod-transit-form px-3 px-lg-4 px-xxl-5 px-md-4 py-4 rounded-4 d-flex flex-column justify-content-between mt-lg-3",children:[e.jsx("h2",{className:"common-heading",children:"Transit  Info"}),e.jsx("form",{className:"mt-3",children:e.jsxs("div",{className:"row gy-2 gy-lg-2",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-4 col-lg-4 col-xl-3 col-xxl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Arrival Depo"})}),e.jsx("div",{className:"col-md-8 col-lg-8 col-xl-9 col-xxl-9",children:e.jsxs("select",{className:"form-select",children:[e.jsx("option",{selected:"",children:"Seakargo LGW"}),e.jsx("option",{value:"1",children:"One"}),e.jsx("option",{value:"2",children:"Two"}),e.jsx("option",{value:"3",children:"Three"})]})})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-4 col-lg-4 col-xl-3 col-xxl-3",children:e.jsx("label",{className:"form-label mb-0",children:"On Transit"})}),e.jsx("div",{className:"col-md-8 col-lg-8 col-xl-9 col-xxl-9",children:e.jsxs("select",{className:"form-select",children:[e.jsx("option",{selected:"",children:"In water"}),e.jsx("option",{value:"1",children:"One"}),e.jsx("option",{value:"2",children:"Two"}),e.jsx("option",{value:"3",children:"Three"})]})})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-4 col-lg-4 col-xl-3 col-xxl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Landing date "})}),e.jsx("div",{className:"col-md-8 col-lg-8 col-xl-9 col-xxl-9",children:e.jsx("input",{type:"date",className:"form-control"})})]})})]})})]})]})}),e.jsx("div",{className:"col-md-4 col-lg-4 col-xl-5",children:e.jsxs("div",{className:"add-invoice-right pt-4 pt-lg-5 d-flex justify-content-center gap-2",children:[e.jsx("a",{href:"product-invoice.html",className:"add-invo-arrow",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsxs("div",{className:"add-invo-btn text-center",children:[e.jsx("a",{href:"product-invoice.html",className:"common_btn border-0",children:"Add Invoice"}),e.jsx("p",{className:"instrcution-error mt-3",children:"All fields are mandatory"})]})]})})]})})]})}export{P as default};
