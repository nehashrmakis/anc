import{r as d,v as w,j as e,$ as y}from"./app-DKcAQ6_-.js";import I from"./Header-BRF3mAJO.js";import k from"./Sidebar-BKfS1058.js";import"./Dropdown-CQjxdwPE.js";import"./transition-D9AalLht.js";function A({agent:o,invoice:l}){var j;const[c,m]=d.useState(l.misc_invoices&&l.misc_invoices.length>0?l.misc_invoices:[{invoice:"",remark:""}]),[r,N]=d.useState(l.etd?l.etd.slice(0,10):""),[t,u]=d.useState(l.landing_date?l.landing_date.slice(0,10):""),[x,b]=d.useState(l.vat_invoice||""),{data:v,setData:h,put:g,processing:p}=w({vat_invoice:x,misc_invoices:c,etd:r,landing_date:t,remarks:l.remarks||"",clearance_invoice_no:l.clearance_invoice_no||""});d.useEffect(()=>{h(s=>({...s,vat_invoice:x,misc_invoices:c,etd:r,landing_date:t,clearance_invoice_no:v.clearance_invoice_no}))},[x,c,r,t,v.clearance_invoice_no]);const f=s=>{s.preventDefault(),g(`/agents/${o.id}/invoices/${l.id}`)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:`Edit Invoice - ${o.name}`}),e.jsx(I,{}),e.jsx(k,{}),e.jsx("main",{className:"app-content p-lg-5 edit-invoice",children:e.jsxs("div",{className:"mt-0 mt-lg-4 edit-invoice-details",children:[e.jsx("div",{className:"row align-items-center",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"agent-heading for-invoice",children:e.jsxs("h2",{children:["For Invoice : ",`${l.id}`]})})})}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"invoice-form agent-box px-4 py-4 rounded-4 d-flex flex-column justify-content-between mt-3",children:[e.jsx("h2",{className:"common-heading pb-2",children:"Agent"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 col-6",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Agent Name"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("select",{className:"form-select",defaultValue:o.name,disabled:!0,children:e.jsx("option",{children:o.name})})})]})}),e.jsx("div",{className:"col-md-6 col-6",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Location"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("select",{className:"form-select",defaultValue:l.arrival_depo,disabled:!0,children:e.jsx("option",{children:l.arrival_depo})})})]})})]})]}),e.jsxs("div",{className:"invoice-form agent-invoice px-4 py-4 rounded-4 d-flex flex-column justify-content-between mt-3",children:[e.jsx("h2",{className:"common-heading pb-2",children:"Invoice"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 col-6",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"PO."})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("div",{className:"input-group rounded-5",children:e.jsx("input",{type:"text",className:"form-control",defaultValue:l.po_number,disabled:!0})})})]})}),e.jsx("div",{className:"col-md-6 col-6",children:e.jsxs("div",{className:"row align-items-center mb-2 mb-md-0 mb-lg-2",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Vat Invoice No"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("div",{className:"input-group rounded-5",children:e.jsx("input",{type:"text",className:"form-control",value:x,onChange:s=>b(s.target.value)})})})]})})]}),e.jsx("div",{className:"col-md-6 col-6",children:e.jsxs("div",{className:"row align-items-center mb-2 mb-md-0 mb-lg-2",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Clearance Inv No"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("div",{className:"input-group rounded-5",children:e.jsx("input",{type:"text",className:"form-control",value:v.clearance_invoice_no,onChange:s=>h("clearance_invoice_no",s.target.value)})})})]})}),(j=l.containers)==null?void 0:j.map((s,a)=>e.jsxs("div",{className:"row mt-0 mt-md-3 mt-lg-3",children:[e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"row align-items-center mb-2 mb-md-0 mb-lg-2",children:[e.jsx("div",{className:"col-12 col-md-12 col-lg-4 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Container"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("div",{className:"input-group rounded-5",children:e.jsx("input",{type:"text",className:"form-control",defaultValue:s.container_id,disabled:!0})})})]})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Marking"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("div",{className:"input-group rounded-5",children:e.jsx("input",{type:"text",className:"form-control",defaultValue:"ANC",disabled:!0})})})]})})]},a))]}),e.jsxs("div",{className:"invoice-form invoice-agent-date px-4 py-4 rounded-4 d-flex flex-column justify-content-between mt-3",children:[e.jsx("h2",{className:"common-heading pb-2",children:"Dates"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 col-12 mb-2",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"ETD"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("input",{type:"date",className:"form-control",value:r,onChange:s=>N(s.target.value)})})]})}),e.jsx("div",{className:"col-md-6 col-12 mb-2",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"ETA"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("input",{type:"date",className:"form-control",value:t,onChange:s=>u(s.target.value)})})]})})]})]}),e.jsxs("div",{className:"invoice-form mics-invoice px-4 py-4 rounded-4 d-flex flex-column justify-content-between mt-3",children:[e.jsx("h2",{className:"common-heading pb-2",children:"Misc Invoice"}),c.map((s,a)=>e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 col-12 mb-2",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Invoice"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("input",{type:"text",className:"form-control",value:s.invoice,onChange:n=>{const i=[...c];i[a].invoice=n.target.value,m(i)}})})]})}),e.jsx("div",{className:"col-md-6 col-12 mb-2",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 col-lg-5 col-xl-3",children:e.jsx("label",{className:"form-label mb-0",children:"Remarks"})}),e.jsx("div",{className:"col-md-12 col-lg-7 col-xl-9",children:e.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Enter remark",value:s.remark,onChange:n=>{const i=[...c];i[a].remark=n.target.value,m(i)}})})]})}),e.jsx("div",{className:"col-12 text-end mb-2",children:c.length>1&&e.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>{const n=c.filter((i,_)=>_!==a);m(n)},children:"Remove"})})]},a)),e.jsx("div",{className:"col-12 text-end mt-2",children:e.jsx("button",{type:"button",className:"border-0 common_btn rounded-2",onClick:()=>m([...c,{invoice:"",remark:""}]),children:"+ Add Row"})})]}),e.jsx("div",{className:"agent-update-btn mt-4 pb-3 text-center",children:e.jsx("button",{type:"submit",className:"border-0 common_btn rounded-2",disabled:p,children:"Update"})})]})]})})]})}export{A as default};
